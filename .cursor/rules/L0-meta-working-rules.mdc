---
description: "[L0-Meta] 执行指令遵循规则 - AI 工作流程和行为约束"
globs:
  - "**/*"
alwaysApply: true
tags: meta, workflow, pdca
level: L0
scope: ue5-universal
---

# [L0-Meta] 执行指令遵循规则

> **层级**: L0 (元规则 - 管理规则的规则)
> **类型**: `workflow` | **优先级**: 最高
> **适用范围**: `ue5-universal` - 所有 UE5 项目通用

## 📋 概述

本文档定义 AI 执行指令时的行为约束和工作流程规范。

---

## 1. 文档编写前的需求对接流程

### [Constraint] 禁止立即写入
*   **[Constraint]** 在写 Markdown 文档前，用户的所有询问和讨论不要马上写进 md 文件
*   **[Constraint]** 等用户明确说"把内容整理进 md"或类似指令时，AI 才开始写入 md 文件

### 工作流程
1. **需求讨论阶段**: 用户提出需求，AI 进行理解和讨论，但不写入 md
2. **需求确认阶段**: 双方确认需求细节，AI 可以整理思路，但仍不写入 md
3. **记录阶段**: 用户明确指令后，AI 才开始写入 md 文件

---

## 2. 编码工作流程和文档同步

### [Constraint] 编码触发条件
*   **[Constraint]** 用户明确说"开始编码"或类似指令时，AI 才开始编码
*   **[Constraint]** 编码完成后，必须将当前的 md 文档同步到最新状态

### [Constraint] 编译报错处理
*   **1-4 次编译报错**: 
    - ❌ 不记录修复过程
    - ✅ 直接修复
    - ✅ 修复完成后直接说明接下来用户要做什么
*   **5 次以上编译报错**:
    - ✅ 开始报修复进度
    - ✅ 记录修复过程

---

## 3. 功能开发完成后的代码整理

### [Constraint] 代码整理规则
*   **[Constraint]** 功能验证无误后及时整理：清除冗余逻辑、调试日志
*   **[Constraint]** 简化调用链路：做到最精简
*   **[Constraint]** 所有优化必须在**不影响功能正确性**的前提下进行
*   **[Constraint]** 如果代码没有完整注释，必须在回复中告诉用户改了什么

---

**层级**: L0-Meta | **最后更新**: 2026年2月
