---
name: sdd-audit
description: 将实现与规格对比，识别差距和问题。用于代码审查、质量保证和验证规格符合度。
---

# SDD 审计技能

将实现与规格对比，生成结构化审查报告。

## 何时使用

- 标记任务完成前的代码审查
- 质量保证检查
- 验证实现是否匹配规格
- 识别技术债务和问题

## 工作流

1. **加载规格**: 阅读 `spec.md` → `plan.md` → `tasks.md`
2. **识别范围**: 检查 `todo-list.md` 了解已完成的工作
3. **检查代码**: 审查每个任务的实现
4. **差距分析**: 对比规格需求与实际代码
5. **生成报告**: 带严重等级的结构化发现

## 审计检查清单

参考 `references/checklist.md` 获取完整审计检查清单，涵盖：
- 功能性需求符合度
- 非功能性需求（性能、安全）
- 代码质量标准
- 边界情况处理

## 严重等级

- **严重**: 功能损坏、安全风险、发布阻塞
- **重要**: 逻辑错误、功能缺失、重大 bug
- **次要**: 风格问题、优化机会、清理
- **过时**: 代码正确但规格需要更新

## 报告格式

```markdown
## 审计报告: [功能]

**状态:** 通过 | 失败 | 有警告
**日期:** [时间戳]
**规格版本:** [版本]

### 快速统计
- 严重: [N]
- 重要: [N]  
- 次要: [N]

### 审查意见
| ID | 严重度 | 位置 | 问题 | 建议 |
|:--:|:------:|:-----|:-----|:-----|
| #1 | 严重 | `file:line` | 描述 | 修复建议 |

### 规格符合度
| 需求 | 状态 | 证据 |
|------|------|------|
| 需求 1 | 满足 | [file:line] |
| 需求 2 | 不满足 | [差距描述] |

### 建议行动
1. [优先行动]
2. [次要行动]
```

## 集成

- 与 `sdd-verifier` 子代理配合进行自动验证
- 可触发 `scripts/validate.sh` 进行自动检查
- 最好配合 Cursor 的 Debug 模式使用以获取运行时证据
- 审计标准不清晰时使用提问工具
