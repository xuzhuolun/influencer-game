---
name: sdd-planning
description: 从规格生成技术方案。在创建架构文档、设计系统组件或准备实现时使用。
---

# SDD 规划技能

将规格转化为可操作的技术方案。

## 何时使用

- 有规格但没有方案
- 设计系统架构
- 将功能分解为组件
- 准备实现阶段
- 调研完成后

## 规划协议

### 步骤 1：理解需求
1. 完整阅读 `spec.md`
2. 记录功能需求和验收标准
3. 识别非功能性需求（性能、安全）
4. 如有则审查调研发现

### 步骤 2：设计架构
1. 识别主要组件
2. 定义组件职责
3. 设计接口和契约
4. 规划数据流

### 步骤 3：选择技术
1. 根据需求评估选项
2. 考虑现有代码库技术栈
3. 记录选择理由

### 步骤 4：规划实现
1. 分解为阶段（搭建 → 核心 → 集成 → 完善）
2. 识别组件间依赖
3. 估算每个阶段的工作量

### 步骤 5：评估风险
1. 识别技术风险
2. 规划缓解措施
3. 记录假设

## 方案输出格式

```markdown
# 技术方案: [Task ID]

## 概览
[方案的 2-3 句摘要]

## 架构

### 系统图
```mermaid
[架构图]
```

### 组件
| 组件 | 职责 | 依赖 |
|------|------|------|
| [名称] | [做什么] | [依赖什么] |

## 技术栈
- **前端**: [选择] - [理由]
- **后端**: [选择] - [理由]
- **数据库**: [选择] - [理由]
- **基础设施**: [选择] - [理由]

## API 设计
[关键接口和契约]

## 数据模型
[实体定义和关系]

## 安全考虑
- [考虑]: [方案]

## 性能目标
| 指标 | 目标 | 方案 |
|------|------|------|
| [指标] | [值] | [如何达成] |

## 实现阶段

### 阶段 1: 搭建
- [带估算的任务]

### 阶段 2: 核心
- [带估算的任务]

### 阶段 3: 集成
- [带估算的任务]

### 阶段 4: 完善
- [带估算的任务]

## 风险
| 风险 | 概率 | 影响 | 缓解措施 |
|------|------|------|----------|
| [风险] | [高/中/低] | [高/中/低] | [方案] |

## 测试策略
- **单元测试**: [方案]
- **集成测试**: [方案]
- **端到端测试**: [方案]

## 待解决问题
- [实现前需要回答的问题]
```

## 图表模板

参见 `assets/diagram-templates.md` 了解常见架构图模式。

## 集成

- 输入来自: `sdd-research` 技能, `sdd-explorer` 子代理
- 输出到: `/tasks` 命令, `sdd-implementer` 子代理
- 配合: `sdd-planner` 子代理处理复杂架构
- 对有重大权衡的架构决策使用提问工具
