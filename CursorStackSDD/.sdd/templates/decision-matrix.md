# SDD 工作流程决策矩阵

## 快速决策指南

### 🚀 使用 `/brief` (SDD 2.5) 的场景:
- ✅ **单团队**功能
- ✅ **熟悉的技术**栈
- ✅ 相关方提供的**明确需求**
- ✅ **低业务风险**功能
- ✅ **不超过2周**的开发周期
- ✅ 可复用**现有模式**
- ✅ **独立**功能（最小化集成）

**时间投入**: 30分钟 → 开始编码

### 🏗️ 使用完整 SDD 2.0 的场景:
- ⚠️ 需要**多团队**协调
- ⚠️ 需要**新/不熟悉的技术**
- ⚠️ 需要**复杂的相关方**对齐
- ⚠️ **高业务风险**或合规要求
- ⚠️ **3周以上**的开发周期
- ⚠️ 需要**架构变更**
- ⚠️ **复杂集成**涉及多个系统

**时间投入**: 4-6小时 → 全面规划

## 决策树

```
功能创意
    ├─ 是否复杂/高风险? ────── 是 ──► 完整 SDD 2.0
    │                                  /research → /specify → /plan → /tasks → /implement
    └─ 否
       │
       ├─ 使用 /brief (30分钟规划)
       │
       ├─ 开始编码
       │
       ├─ 开发过程中:
       │   ├─ 发现复杂性? ──── 是 ──► /upgrade 升级到完整 SDD
       │   └─ 需求变更? ────── 是 ──► /evolve 演进简报
       │
       └─ 交付功能
```

## 复杂度指标

| 因素 | 简报模式 | 完整 SDD |
|------|---------|----------|
| **团队规模** | 1-2 开发者 | 3+ 开发者 |
| **相关方** | 1-2 人 | 3+ 人 |
| **时间线** | <2 周 | 3+ 周 |
| **技术风险** | 低 | 高 |
| **业务风险** | 低 | 中/高 |
| **集成点** | 0-2 系统 | 3+ 系统 |
| **合规要求** | 无 | 必需 |

## 示例

### ✅ 适合 `/brief`:
- 添加用户头像上传
- 创建管理后台筛选器
- 构建邮件通知系统
- 添加商品搜索功能
- 实现用户偏好设置页

### 🏗️ 需要完整 SDD:
- 支付处理系统
- 多租户架构变更
- 第三方API集成平台
- 安全审计合规功能
- 跨团队数据同步

## 升级信号

**如果发现以下情况，从简报升级到完整 SDD:**
- 监管/合规要求
- 需要架构变更
- 需要多团队协调
- 技术方案不确定
- 出现相关方对齐问题
- 时间线超出初始预估

## 最佳实践

1. **默认使用简报** - 从轻量开始
2. **限时规划** - 如果简报超过30分钟，考虑升级
3. **监控复杂度** - 需要时升级
4. **持续演进** - 使用 `/evolve` 维护活文档
5. **从升级中学习** - 改进未来的决策