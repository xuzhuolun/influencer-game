# 功能简报：移动端适配与模块划分优化

**Task ID:** mobile-adapt-module-refactor  
**创建日期:** 2026-02-12  
**状态:** 已实现（2026-02-12）

---

## 问题陈述

当前网红模拟经营游戏在移动端主要依赖单一 768px 断点与部分 `clamp()` 做响应式，整体仍偏桌面布局；主游戏界面虽有三 Tab（个人主页 / 消息 / 行动），但模块边界与信息层级参照同类产品（如《互联网大厂模拟器》）仍有优化空间。需要：在移动端上获得更合理的布局与触控体验；界面与流程参照大厂模拟器的信息密度与节奏；模块划分更清晰，便于后续扩展与维护。

## 目标用户

- 主要在手机/平板访问的玩家（竖屏为主）
- 期望「信息一眼能扫完、核心操作少步数」的轻度模拟经营用户

## 核心需求

### 必须实现

- [ ] **移动端布局适配**：在 320px～768px 区间内保证可读、可点、少横向滚动；关键区域（状态栏、底部 Tab、行动区、弹窗）触控热区 ≥44px，间距与字号符合移动端可读性。
- [ ] **流程与信息层级参照大厂模拟器**：梳理「数值/状态 → 消息/事件 → 行动决策」的动线；主界面信息分区清晰（如：顶部身份/数值、中部动态或消息、底部行动/结算），与现有三 Tab 结合，避免单屏信息过载或层级混乱。
- [ ] **模块划分更合理**：从 HTML/CSS/JS 上明确「创角流程」「主游戏（Tab 内容区）」「全局弹窗与导航」的边界；主游戏内「个人主页 / 消息 / 行动」三块在 DOM 与样式上可单独维护、便于后续加 Tab 或改版。

### 锦上添花

- [ ] 小屏下创角流程（起名→定位→头像→属性）可考虑分步/折叠，减少首屏滚动。
- [ ] 安全区域适配（如 `env(safe-area-inset-bottom)`）以更好支持刘海屏与 Home 条。

## 技术方案

- **技术栈**：沿用现有 HTML5 + CSS3 + 原生 JS，不引入新框架；响应式以媒体查询 + 现有 `clamp()` 为主，必要时增加 480px 等中间断点。
- **参照**：《互联网大厂模拟器》的网页 UI 特点——消息/事件集中、季度（回合）行动明确、数值维度清晰；本项目中对应为：消息 Tab 的「小助理/评论与事件」、行动 Tab 的「本月行动/结算本月」、个人主页的粉丝/存款/违规等，在移动端保持同一逻辑但优化排版与点击顺序。
- **关键决策**：
  - 以「移动优先」做新增/修改样式，桌面端在现有基础上做放大与留白，避免两套完全分离的 DOM。
  - 模块划分：保持单页多屏结构，通过语义化 class、注释和可选的轻量 JS 模块名（如 `screen-naming` / `screen-main-tabs`）标识边界，便于后续拆分或按模块改样式。

**遵循的现有模式：**

- 现有 `.screen` / `.screen.active` 切换；主游戏区 `.main-game-with-tabs` + `.tab-content-area` + `.bottom-tab-nav`。
- 现有 `#game-container` 的 `max-width: 1200px` 与 `body` 的 `padding: 20px`；移动端可考虑全宽或缩小 padding。

## 下一步行动

1. [x] **现状盘点**：在 320/375/414/768 下走一遍创角→选类→选平台→主游戏三 Tab 及主要弹窗，记录布局错位、文字截断、点击困难或滚动冲突，形成简短问题清单。（见 audit-mobile.md）
2. [x] **信息与流程草图**：对照大厂模拟器，画出「主游戏」一屏内理想分区（顶/中/底）与三 Tab 各自职责，确认与现有 DOM 的对应关系。（见 audit-mobile.md §2）
3. [x] **移动端样式迭代**：按问题清单修 CSS（断点、字号、间距、触控热区、固定底栏安全区），必要时微调 HTML 结构（仅增 class 或包裹层，不改变现有 ID 与事件绑定）。
4. [x] **模块边界标注**：在 `index.html` 与 `style.css` 中为「创角」「主游戏-个人主页/消息/行动」「全局弹窗」增加注释或统一 class 前缀，并在 `js/` 中确认事件绑定与各屏的对应关系，便于后续维护。
5. [ ] **真机与多尺寸验证**：在至少一种真机或 DevTools 设备模式下复测核心流程，确认无回归。（建议人工执行）

## 成功标准

- [ ] 在 375px 宽度下，创角四步、主游戏三 Tab 及主要弹窗均可无横向滚动、关键按钮易点，无严重遮挡或重叠。
- [ ] 主游戏界面信息层级与「数值→消息→行动」的流程与设计意图一致，模块在代码与注释上边界清晰。
- [ ] 现有桌面端表现无明显退化（尤其是 768px 以上）。

## 待解决问题

- 是否需要在 480px 增加专门断点（例如仅调整创角或仅调整行动列表），待现状盘点后定。
- 底部 Tab 是否需要在超小屏（如 320px）上改为图标+短文案或仅图标，待实测后定。

---

*使用 SDD 4.0 创建 - 可以开始编码了！*
